# Setup configuration for mtxp
#
#### Without MPI, Without PETSc
#EXEC=testbnd testbndc testpcg
#FLINKER=$(FCFREE)
#INCLUDE_MTX_MPI=.
#LIBMTXMPI=../mtxp/libmtxnompi.o
#LIB_MTX_BND=$(LIBMTXMPI) ../mtxp/libmtxbnd.o
#LIB_MTX_PCG=$(LIBMTXMPI) ../mtxp/libmtxpcg.o

#### With MPI, Without PETSc
#EXEC=testbnd testbndc testpcg
#FLINKER=$(MFC)
#INCLUDE_MTX_MPI=-I /usr/local/mpich32-ifort-gcc7/include
#LIBMTXMPI=../mtxp/libmtxmpi.o
#LIB_MTX_BND=$(LIBMTXMPI) ../mtxp/libmtxbndmpi.o
#LIB_MTX_PCG=$(LIBMTXMPI) ../mtxp/libmtxpcgmpi.o

#### With MPI, With PETSc
##### With MUMPS
#EXEC=testbnd testbndc testpcg testdmumps testzmumps testksp
##### Without MUMPS
#EXEC=testbnd testbndc testpcg testksp
#### select either of below items
##### PETSc 3.4
#INCLUDE_MTX_MUMPS=-I${PETSC_DIR}/externalpackages/MUMPS/include
#include ${PETSC_DIR}/conf/variables
##### PETSc 3.5
#INCLUDE_MTX_MUMPS=-I${PETSC_DIR}/${PETSC_ARCH}/externalpackages/MUMPS/include
#include ${PETSC_DIR}/conf/variables
##### PETSc 3.6
#INCLUDE_MTX_MUMPS=-I${PETSC_DIR}/${PETSC_ARCH}/externalpackages/MUMPS/include
#include ${PETSC_DIR}/lib/petsc/conf/variables
##### PETSc 3.7/8/9
#INCLUDE_MTX_MUMPS=-I${PETSC_DIR}/${PETSC_ARCH}/externalpackages/git.mumps/include
#include ${PETSC_DIR}/lib/petsc/conf/variables
##### PETSc 3.10
#INCLUDE_MTX_MUMPS=-I${PETSC_DIR}/${PETSC_ARCH}/include
#include ${PETSC_DIR}/lib/petsc/conf/variables
#####
#INCLUDE_MTX_PETSC=-I${PETSC_DIR}/include -I${PETSC_DIR}/include/petsc -I${PETSC_DIR}/${PETSC_ARCH}/include
#LIBMTXMPI=../mtxp/libmtxmpi.o
#LIB_MTX_BND=$(LIBMTXMPI) ../mtxp/libmtxbndmpi.o
#LIB_MTX_PCG=$(LIBMTXMPI) ../mtxp/libmtxpcgmpi.o
#MUMPS_LIB=-L${PETSC_DIR}/${PETSC_ARCH}/lib -ldmumps -lzmumps -lmumps_common -lpord -lscalapack -lparmetis -lmetis -llapack -lblas ../lib/libtask.a

##### End of configurable section #####

LIB_MTX_MUMPS=$(LIBMTXMPI) ../mtxp/libmtxmumps.o
LIB_MTX_KSP=$(LIBMTXMPI) ../mtxp/libmtxksp.o

LIBX_MTX_BND=$(LIB_MTX_BND)
LIBX_MTX_PCG=$(LIB_MTX_PCG)
#LIBX_MTX_MUMPS=$(LIB_MTX_MUMPS) $(MUMPS_LIB)
LIBX_MTX_MUMPS=$(LIB_MTX_MUMPS) $(PETSC_KSP_LIB)
LIBX_MTX_KSP=$(LIB_MTX_KSP) $(PETSC_KSP_LIB)

